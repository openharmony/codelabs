/**
 * æ‰“å¡è®°å½•è¯¦æƒ…æŸ¥çœ‹å¼¹çª—
 */
@CustomDialog
export struct RecordDetailDialog {
  controller: CustomDialogController;

  // æŽ¥æ”¶å¤–éƒ¨ä¼ å…¥çš„æ•°æ®
  dateStr: string = '';
  mood: number = 1;
  note: string = '';

  moods: string[] = ['ðŸ˜', 'ðŸ™‚', 'ðŸ˜„', 'ðŸ¤©'];

  build() {
    Column() {
      // æ—¥æœŸ
      Text(this.dateStr)
        .fontSize(18)
        .fontWeight(FontWeight.Bold)
        .margin({ top: 20, bottom: 20 })

      // å¿ƒæƒ…å¤§å›¾æ ‡
      Text(this.moods[this.mood])
        .fontSize(60)
        .margin({ bottom: 10 })

      // å¿ƒå¾—å†…å®¹å±•ç¤º
      if (this.note && this.note.length > 0) {
        Text(this.note)
          .fontSize(16)
          .fontColor('#333')
          .width('100%')
          .padding(15)
          .backgroundColor('#F5F5F5')
          .borderRadius(12)
          .margin({ bottom: 20 })
      } else {
        Text('è¿™ä¸€å¤©æ²¡æœ‰å†™å¿ƒå¾—å“¦~')
          .fontSize(14)
          .fontColor('#999')
          .margin({ bottom: 20 })
      }

      Button('å…³é—­')
        .width('100%')
        .backgroundColor('#F5F5F5')
        .fontColor('#666')
        .onClick(() => {
          this.controller.close();
        })
    }
    .padding(20)
    .backgroundColor(Color.White)
    .borderRadius(24)
    .width('80%')
  }
}